<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/estilos2.css" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <div class="encabezado">
        <div class="titulo">Zapatillas Urbanas</div>
        <div><a href="http://">Marca  </a></div>
        <div><a href="http://">Hombres</a></div>
        <div><a href="http://">Mujeres</a></div>
        <input type="text">
        <h3><a href="seccioncarrito.html">Carrito</a></h3>
    </div>
    <div class="cuerpo">
        <table>
            <tbody id="productos-tbody">
                <!-- Los datos de los productos serán insertados aquí -->
            </tbody>
        </table>
        <script>
            function cargarProductos() {
                try {
                    const response = await fetch('/productos');
                    const data = await response.json();
                    
                    const productos = data.productos;
                    const tbody = document.getElementById('productos-tbody');
        
                    productos.forEach(producto => {
                        const fila = document.createElement('tr');
        
                        fila.innerHTML = `
                            <td>${producto.codigo}</td>
                            <td>${producto.cod_art}</td>
                            <td>${producto.descripcion}</td>
                            <td>${producto.precio}</td>
                            <td>${producto.stock}</td>
                            <td>${producto.total}</td>
                            <td><img src="${producto.imagen}" alt="Imagen del producto"></td>
                            <td><button>Agregar al carrito</button></td> 
                        `;
        
                        tbody.appendChild(fila);
                    });
        
                } catch (error) {
                    console.error('Error al cargar los productos:', error);
                }
            }
        
            // Cargar los productos al cargar la página
            window.onload = cargarProductos;
        </script>
    </div>
</body>
</html>